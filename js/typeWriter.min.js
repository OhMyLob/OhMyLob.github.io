!function(){"use strict";!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),window.Typewriter=function(b,c){return this._settings={cursorAnimationPaused:!1,opacityIncreasing:!1,currentOpacity:1,delayedQue:[],delayItemsCount:0,eventQue:[],calledEvents:[],eventRunning:!1,timeout:!1,delayExecution:!1,fps:.06,typingFrameCount:0,stringToTypeHTMLArray:[],currentTypedCharacters:[],typing:!1,usedIDs:[],charAmountToDelete:!1,userOptions:{},eventLoopRerun:0},b?"object"!=typeof c?console.error("Typewriter only accepts the options as an object."):(this._settings.userOptions=c,this.default_options={strings:!1,cursorClassName:"typewriter-cursor",cursor:"|",animateCursor:!0,blinkSpeed:50,typingSpeed:"natural",deleteSpeed:"natural",charSpanClassName:"typewriter-char",wrapperClassName:"typewriter-wrapper",loop:!1,autoStart:!1,devMode:!1},this.options=this._setupOptions(c),this.el=b,this._setupTypwriterWrapper(),this._startCursorAnimation(),void(this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings())):console.error("Please choose an DOM element so that type writer can display itself.")};var a=window.Typewriter.prototype;a.stop=function(){return this._addToEventQue(this._stopEventLoop),this},a.start=function(){return this._startEventLoop(),this},a.rerun=function(){return this._addToEventQue(this._rerunCalledEvents),this},a.typeString=function(a){if(!a||"string"!=typeof a)return console.error("Please enter a string as the paramater.");var b=this._getCharacters(a);return this._addToEventQue([this._typeCharacters,[b]]),this},a.deleteAll=function(){return this._addToEventQue([this._deleteChars,["all"]]),this},a.deleteChars=function(a){return this._addToEventQue([this._deleteChars,[a]]),this},a.pauseFor=function(a){return this._addToEventQue([this._pauseFor,[a]]),this},a.typeOutAllStrings=function(){var a=this._getStringsAsCharsArray();if(1===a.length)this._typeCharacters(a[0]);else for(var b=0,c=a.length;b<c;b++)this._addToEventQue([this._typeCharacters,[a[b]]]),this.pauseFor(this._randomInteger(1500,2500)),this.deleteAll(),this.pauseFor(this._randomInteger(1500,2500));return this},a.changeSettings=function(a){return a||"object"==typeof a?(this._addToEventQue([this._changeSettings,[JSON.stringify(a)]]),this):console.error("Typewriter will only accept an object as the settings.")},a.changeBlinkSpeed=function(a){return a||"number"==typeof a?(this.changeSettings({blinkSpeed:a}),this):console.error("Please enter a number for the new blink speed.")},a.changeTypingSpeed=function(a){if(!a&&"number"!=typeof a)return console.error("Please enter a number for the new typing speed.");return this.changeSettings({typingSpeed:a}),this},a.changeDeleteSpeed=function(a){return a||"number"==typeof a?(this.changeSettings({changeDeleteSpeed:a}),this):console.error("Please enter a number for the new delete speed.")},a._rerunCalledEvents=function(){this._settings.currentTypedCharacters.length>0?(this.deleteAll(),this._resetEventLoop("rerunCalledEvents")):(this._settings.eventQue=this._settings.calledEvents,this._settings.calledEvents=[],this.options=this._setupOptions(this._settings.userOptions),this._settings.usedIDs=[],this.charAmountToDelete=!1,this._startEventLoop())},a._deleteChars=function(a){return a&&(this._settings.charAmountToDelete=a),this._deletingCharIdsAnimation=window.requestAnimationFrame(this._deletingCharAnimationFrame.bind(this)),this},a._pauseFor=function(a){var b=this;b._settings.eventRunning=!0,setTimeout(function(){b._resetEventLoop("pauseFor")},a)},a._changeSettings=function(a){this.options=this._setupOptions(JSON.parse(a[0])),this._resetEventLoop("changeSettings"),this.options.devMode&&console.log("New settings",this.options)},a._deletingCharAnimationFrame=function(){var a=this,b=this.options.deleteSpeed,c=a.options.wrapperClassName,d=a._settings.currentTypedCharacters,e=a._settings.charAmountToDelete;return a._settings.charAmountToDelete&&0!==a._settings.charAmountToDelete&&0!==d?("natural"==b&&(b=a._randomInteger(50,150)),"all"==e&&(e=d.length,a._settings.charAmountToDelete=e),void setTimeout(function(){if(a._settings.charAmountToDelete){var b=d.length-1,f=d[b];a._settings.currentTypedCharacters.splice(b,1);var g=document.getElementById(f);if(g){var h=a.el.querySelector("."+c);h.removeChild(g),a._settings.charAmountToDelete=e-1,a.options.devMode&&console.log("Deleted char with ID",f)}}a._deletingCharIdsAnimation=window.requestAnimationFrame(a._deletingCharAnimationFrame.bind(a))},b)):(a._resetEventLoop("deletingCharAnimationFrame"),!0)},a._setupOptions=function(a){var b={};for(var c in this.default_options)b[c]=this.default_options[c];if(this._settings.userOptions)for(var c in this._settings.userOptions)b[c]=this._settings.userOptions[c];for(var c in a)b[c]=a[c];return b},a._addToEventQue=function(a){this._settings.eventQue.push(a),this._settings.eventQue.length>0&&!this._settings.eventRunning&&this.options.autoStart&&this._startEventLoop()},a._startEventLoop=function(){if(this.options.devMode&&console.log("Event loop started."),!this._settings.eventRunning){if(this._settings.eventQue.length>0){this.eventLoopRerun=0;var a=this._settings.eventQue[0];"function"==typeof a?(this._settings.eventRunning=!0,this._settings.calledEvents.push(a),this._settings.eventQue.splice(0,1),a.call(this),this.options.devMode&&console.log("Event started.")):a instanceof Array&&"function"==typeof a[0]&&a[1]instanceof Array&&(this._settings.eventRunning=!0,this._settings.calledEvents.push(a),this._settings.eventQue.splice(0,1),a[0].call(this,a[1]),this.options.devMode&&console.log("Event started."))}this._eventQueAnimation=window.requestAnimationFrame(this._startEventLoop.bind(this))}if(!this._settings.eventRunning&&this._settings.eventQue.length<=0){var b=this;return b._stopEventLoop(),void setTimeout(function(){b.options.loop&&(b.eventLoopRerun++,b.options.devMode&&console.log("Before Loop State",b._settings),b.eventLoopRerun>4?(console.error("Maximum amount of loop retries reached."),b._stopEventLoop()):(b.options.devMode&&console.log("Looping events."),b._rerunCalledEvents()))},1e3)}},a._resetEventLoop=function(a){var b=a||"Event";this._settings.eventRunning=!1,this._startEventLoop(),this.options.devMode&&console.log(b,"Finished")},a._stopEventLoop=function(){window.cancelAnimationFrame(this._eventQueAnimation),this.options.devMode&&console.log("Event loop stopped.")},a._setupTypwriterWrapper=function(){var a=this.options.wrapperClassName,b=document.createElement("span");b.className=a,this.el.innerHTML="",this.el.appendChild(b)},a._typeCharacters=function(a){return this._settings.stringToTypeHTMLArray=this._convertCharsToHTML(a),this._typingAnimation=window.requestAnimationFrame(this._typingAnimationFrame.bind(this,a.length)),this},a._typingAnimationFrame=function(a){var b=this,c=this.options.typingSpeed,d=b.options.wrapperClassName;return 0==b._settings.stringToTypeHTMLArray.length?(window.cancelAnimationFrame(b._typingAnimation),this._resetEventLoop("typingAnimationFrame"),!0):("natural"==c&&(c=this._randomInteger(50,150)),void setTimeout(function(){var e=(b.el.innerHTML,b._settings.stringToTypeHTMLArray[0]);b.el.querySelector("."+d).appendChild(e.el),b._settings.currentTypedCharacters.push(e.id),b._settings.stringToTypeHTMLArray.splice(0,1),b._typingAnimation=window.requestAnimationFrame(b._typingAnimationFrame.bind(b,a)),b.options.devMode&&console.log("Typed",e)},c))},a._convertCharsToHTML=function(a){for(var b=[],c=this.options.charSpanClassName,d=a[0],e=0,f=d.length;e<f;e++){var g=document.createElement("span"),h=this._generateUniqueID();g.id=h,g.className=c+" typewriter-item-"+e,g.innerHTML=d[e],b.push({id:h,el:g})}return b},a._getCharacters=function(a){return"string"==typeof a&&a.split("")},a._getStringsAsCharsArray=function(){var a=this.options.strings instanceof Array,b="string"==typeof this.options.strings;if(!a)return b?[this.options.strings.split("")]:console.error("Typewriter only accepts strings or an array of strings as the input.");for(var c=[],d=0,e=this.options.strings.length;d<e;d++){var f=this._getCharacters(this.options.strings[d]);if(!f){console.error("Please enter only strings.");break}c.push(f)}return c},a._cursorAnimationFrame=function(){if(!this._settings.cursorAnimationPaused){var a=this.options.blinkSpeed,b=.001*a,c=this.el.querySelector(".typewriter-cursor");1==this._settings.opacityIncreasing&&(this._settings.currentOpacity>=1&&(this._settings.opacityIncreasing=!1,this._settings.currentOpacity=1),this._settings.currentOpacity+=b),0==this._settings.opacityIncreasing&&(this._settings.currentOpacity<=0&&(this._settings.opacityIncreasing=!0,this._settings.currentOpacity=0),this._settings.currentOpacity-=b),null!=c&&(c.style.opacity=this._settings.currentOpacity),this._cursorAnimation=window.requestAnimationFrame(this._cursorAnimationFrame.bind(this))}},a._startCursorAnimation=function(){var a=this.options.cursor,b=this.options.cursorClassName,c=document.createElement("span");c.className=b,c.innerHTML=a,this.el.appendChild(c),this.options.animateCursor&&(this._cursorAnimation=window.requestAnimationFrame(this._cursorAnimationFrame.bind(this)))},a._pauseCursorAnimation=function(){this._settings.cursorAnimationPaused||(window.cancelAnimationFrame(this._cursorAnimation),this._settings.cursorAnimationPaused=!0)},a._restartCursorAnimation=function(){return this._settings.cursorAnimationPaused?(this._settings.cursorAnimationPaused=!1,void(this._cursorAnimation=window.requestAnimationFrame(this._cursorAnimationFrame.bind(this)))):console.error("Cursor animation is already running.")},a._randomInteger=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},a._randomID=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<this._randomInteger(5,15);c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},a._generateUniqueID=function(){var a=this._randomID();return this._settings.usedIDs.indexOf(a)==-1?(this._settings.usedIDs.push(a),a):this._generateUniqueID.call(this)}}();